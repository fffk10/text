(function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],l=0,p=[];l<u.length;l++)a=u[l],o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function u(e){return c.p+"js/"+({"group-auth~group-mypage":"group-auth~group-mypage","group-auth":"group-auth","group-mypage~group-novel":"group-mypage~group-novel","group-mypage~group-static":"group-mypage~group-static","group-mypage":"group-mypage","group-novel":"group-novel","group-static":"group-static"}[e]||e)+"."+{"group-auth~group-mypage":"d0736f54","group-auth":"10b5361a","group-mypage~group-novel":"714b2580","group-mypage~group-static":"1411116e","group-mypage":"1f044421","group-novel":"6520a6ce","group-static":"3cbefdd5"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"group-auth~group-mypage":1,"group-auth":1,"group-mypage~group-novel":1,"group-mypage":1,"group-novel":1,"group-static":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({"group-auth~group-mypage":"group-auth~group-mypage","group-auth":"group-auth","group-mypage~group-novel":"group-mypage~group-novel","group-mypage~group-static":"group-mypage~group-static","group-mypage":"group-mypage","group-novel":"group-novel","group-static":"group-static"}[e]||e)+"."+{"group-auth~group-mypage":"64e53e9e","group-auth":"1bb7ed8f","group-mypage~group-novel":"1d78cc26","group-mypage~group-static":"31d6cfe0","group-mypage":"9ba3cdda","group-novel":"594f59c1","group-static":"4fbf21bd"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){s=p[u],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],d.parentNode.removeChild(d),n(i)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var s,l=document.getElementsByTagName("head")[0],p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=u(e),s=function(t){p.onerror=p.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:p})},12e4);p.onerror=p.onload=s,l.appendChild(p)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var d=l;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0651":function(e,t,n){"use strict";var r=n("a6d1"),a=n.n(r);a.a},"0dcd":function(e,t,n){"use strict";var r=n("cebc"),a=(n("96cf"),n("3b8d")),o=(n("cadf"),n("551c"),n("097d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v(e._s(e.title))]),n("div",{staticClass:"dialog-body"},[n("div",{domProps:{innerHTML:e._s(e.content)}})]),n("footer",[n("div",{staticClass:"button-area"},[n("button",{staticClass:"button",on:{click:function(t){return e.$close(!0)}}},[e._v(e._s(e.okButton))])])])])])}),i=[],u=n("2b0e"),c=u["default"].extend({props:{title:String,content:String,okButton:{type:String,default:"はい"},cancelButton:{type:String,default:"キャンセル"}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){}}}),s=c,l=(n("ef07"),n("2877")),p=Object(l["a"])(s,o,i,!1,null,"bc530394",null);p.options.__file="Dialog.vue";var d=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v(e._s(e.title))]),n("div",{staticClass:"dialog-body"},[n("div",{domProps:{innerHTML:e._s(e.content)}})]),n("footer",[n("div",{staticClass:"button-area"},[n("button",{staticClass:"button cancel",on:{click:function(t){return e.$close(!1)}}},[e._v(e._s(e.cancelButton))]),n("button",{staticClass:"button danger",on:{click:function(t){return e.$close(!0)}}},[e._v(e._s(e.okButton))])])])])])},g=[],m=u["default"].extend({props:{title:String,content:String,okButton:{type:String,default:"はい"},cancelButton:{type:String,default:"キャンセル"}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){}}}),h=m,v=(n("9f70"),Object(l["a"])(h,f,g,!1,null,"4ed73560",null));v.options.__file="YesNoDialog.vue";var b=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v("確認")]),n("div",{staticClass:"dialog-body"},[n("div",{staticClass:"main"},[e._v("\n        この小説を削除しますか？"),n("br"),e._v("\n        削除後は復元することができません。"),n("br"),n("br"),e._v("\n        確認のため、下の入力欄に削除する小説のタイトル 「"),n("span",{staticClass:"title"},[e._v(e._s(e.title))]),e._v("」を入力してください。"),n("br")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputNovelTitle,expression:"inputNovelTitle"}],staticClass:"form-input",attrs:{type:"text",placeholder:"ここに「"+e.title+"」と入力してください。",maxlength:"200"},domProps:{value:e.inputNovelTitle},on:{input:function(t){t.target.composing||(e.inputNovelTitle=t.target.value)}}})])]),n("footer",[n("div",{staticClass:"button-area"},[n("button",{staticClass:"button",on:{click:function(t){return e.$close(!1)}}},[e._v("キャンセル")]),n("button",{staticClass:"button danger",attrs:{disabled:!e.deleteReady},on:{click:function(t){return e.$close({inputNovelTitle:e.inputNovelTitle})}}},[e._v("削除する")])])])])])},_=[],x=u["default"].extend({props:{title:String},data:function(){return{inputNovelTitle:""}},computed:{deleteReady:function(){return this.title===this.inputNovelTitle}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){e.target.classList.contains("dialog-mask")}}}),w=x,P=(n("1977"),Object(l["a"])(w,y,_,!1,null,"ba9a479e",null));P.options.__file="NovelDeleteDialog.vue";var k=P.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask"},[n("div",{staticClass:"dialog-content",attrs:{"hide-footer":"",title:"プリセット"}},[n("div",{ref:"contents",staticClass:"modal-content",on:{scroll:e.onScroll}},[e._l(e.presetImages,function(t,r){return[n("a",{key:t.key,attrs:{href:"#","data-index":r,"data-image":t.key,"data-load":"false"},on:{click:function(n){return e.selected(t)}}},[n("img",{staticClass:"img-character",attrs:{src:t.data||e.loadingImage,alt:"img"}})])]})],2),n("div",[n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"button",attrs:{block:""},on:{click:e.cancel}},[e._v("閉じる")]),e._v("\n        画像元：  ( "),n("a",{attrs:{href:"http://www.jewel-s.jp/",target:"blank"}},[e._v("JewelSaviorFREE")]),e._v(" )\n      ")])])])])},E=[],I=(n("c5f6"),n("5d73")),R=n.n(I),T=n("75fc"),C=n("5ce8"),j=u["default"].extend({data:function(){return{presetImages:[],loadingImage:"/img/placeholders/character.png",loadingList:!1,queueingNext:!1,nextMarker:null}},created:function(){this.loadNext()},methods:{selected:function(e){this.$close(e)},showPresetImage:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadNext();case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadNext:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.queueingNext=!1,this.loadingList=!0,e.next=4,C["e"](this.nextMarker);case 4:n=e.sent,r=n.contents,a=n.nextMarker,this.loadingList=!1,this.nextMarker=a,this.queueingNext&&setTimeout(this.loadNext,0),(t=this.presetImages).push.apply(t,Object(T["a"])(r)),setTimeout(this.loadImage,1);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadPrepare:function(){this.loadingList?this.queueingNext=!0:this.loadNext()},cancel:function(){this.$close(!1)},onScroll:function(e){var t=e.target,n=t.scrollTop+t.clientHeight,r=t.scrollHeight-n;r<10&&this.loadPrepare(),this.loadImage()},loadImage:function(){var e=this,t=this.$refs.contents,n=!0,r=!1,a=void 0;try{for(var o,i=function(){var n=o.value,r=n.dataset,a=r.image,i=r.load,u=r.index;if("false"===i){var c=n.getBoundingClientRect();c.top<=t.clientHeight+100&&(r.load="true",C["a"](a).then(function(t){e.$set(e.presetImages[Number(u)],"data",t)}))}},u=R()(t.children);!(n=(o=u.next()).done);n=!0)i()}catch(c){r=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}}}}),A=j,U=(n("45e4"),Object(l["a"])(A,O,E,!1,null,"3c31d5d1",null));U.options.__file="PresetSelectorDialog.vue";var N=U.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v("確認")]),n("div",{staticClass:"dialog-body"},[n("div",{staticClass:"main"},[e._v("\n          このアカウント情報を削除しますか？"),n("br"),e._v("\n削除するとアカウント内に登録された作品など全ての情報を削除します。"),n("br"),e._v("\nまた、削除後は復元することができません。"),n("br"),n("p",{staticStyle:{color:"red"}},[e._v("◎ データの引き継ぎ周りでの不具合の際は、アカウント削除前に必ず"),n("router-link",{attrs:{to:"/contact"}},[e._v("お問い合わせ")]),e._v("をお願いします。")],1)]),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmed,expression:"confirmed"}],staticClass:"form-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.confirmed)?e._i(e.confirmed,null)>-1:e.confirmed},on:{change:function(t){var n=e.confirmed,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);r.checked?i<0&&(e.confirmed=n.concat([o])):i>-1&&(e.confirmed=n.slice(0,i).concat(n.slice(i+1)))}else e.confirmed=a}}}),e._v("　削除後のデータ復元ができないことに同意する \n        ")])]),n("footer",[n("div",{staticClass:"button-area"},[n("button",{staticClass:"button",on:{click:function(t){return e.$close(!1)}}},[e._v("キャンセル")]),n("button",{staticClass:"button danger",attrs:{disabled:!e.confirmed},on:{click:function(t){return e.$close({confirmed:e.confirmed})}}},[e._v("削除する")])])])])])},$=[],L=u["default"].extend({props:{title:String},data:function(){return{confirmed:!1}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){e.target.classList.contains("dialog-mask")}}}),M=L,D=(n("1ece"),Object(l["a"])(M,S,$,!1,null,"30247cff",null));D.options.__file="UserDeleteDialog.vue";var H=D.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box _dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v(e._s(e.title))]),n("div",{staticClass:"dialog-body"},[n("div",{domProps:{innerHTML:e._s(e.content)}})]),n("footer",[n("div",{staticClass:"button-area"},[e.cancelable?n("button",{staticClass:"button",on:{click:function(t){return e.$close(!1)}}},[e._v("キャンセル")]):e._e(),n("button",{staticClass:"button",on:{click:function(t){return e.$close(!0)}}},[e._v(e._s(e.okButton))])])])])])},V=[],q=u["default"].extend({props:{title:String,content:String,cancelable:{type:Boolean,default:!0},okButton:{type:String,default:"はい"}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){e.target.classList.contains("dialog-mask")}}}),Q=q,G=(n("8c26"),Object(l["a"])(Q,B,V,!1,null,"6c103379",null));G.options.__file="PopupNotification.vue";var W=G.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v(e._s(e.title))]),n("div",{staticClass:"dialog-body"},[n("div",{staticClass:"helper-dialog-body",domProps:{innerHTML:e._s(e.content)}})]),n("footer",[n("div",{staticClass:"button-area"},[n("button",{staticClass:"button",on:{click:function(t){return e.$close(!0)}}},[e._v("閉じる")])])])])])},z=[],F=u["default"].extend({props:{title:String,content:String},methods:{cancel:function(){this.$close(!0)},focusOut:function(e){e.target.classList.contains("dialog-mask")&&this.$true()}}}),J=F,Y=(n("0f26"),n("3c51"),Object(l["a"])(J,K,z,!1,null,"0188b277",null));Y.options.__file="HelperDialog.vue";var Z=Y.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-box dialog-mask",on:{click:e.focusOut}},[n("div",{staticClass:"dialog-content"},[n("header",[e._v("オプション機能")]),n("div",{staticClass:"dialog-body"},[n("div",[n("hr"),n("h2",[e._v("◉ 執筆モードを切り替える")]),n("p",[e._v("ダークモードなどに執筆モードを切り替えて、利用することができます。")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.theme,expression:"theme"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.theme=t.target.multiple?n:n[0]},function(t){return e.onSelectTheme(t)}]}},[n("option",{attrs:{value:"",hidden:""}},[e._v("カラーを選択")]),n("option",{attrs:{value:"default"}},[e._v("ノーマル")]),n("option",{attrs:{value:"dark"}},[e._v("ダークモード")]),n("option",{attrs:{value:"sepia"}},[e._v("セピアモード")]),n("option",{attrs:{value:"blackboard"}},[e._v("黒板モード")]),n("option",{attrs:{value:"bold"}},[e._v("太字モード")])]),n("hr"),n("h2",[e._v("◉ データのバックアップ")]),n("p",[e._v("この端末で執筆して保存したデータの最新データをバックアップしています。")]),n("button",{on:{click:function(t){return e.$close(!0)}}},[e._v("バックアップデータを見る　＞")])]),n("hr"),n("button",{staticClass:"dialog-body-close",on:{click:function(t){return e.$close()}}},[e._v("閉じる")])])])])},ee=[],te=u["default"].extend({props:{changeTheme:Function},data:function(){return{theme:localStorage.getItem("nola:theme")||"default"}},methods:{cancel:function(){this.$close(!1)},focusOut:function(e){},onSelectTheme:function(e){this.changeTheme(e.target.value)}}}),ne=te,re=(n("2458"),Object(l["a"])(ne,X,ee,!1,null,"58f18b96",null));re.options.__file="ManuscriptEditorMenuDialog.vue";var ae=re.exports,oe=n("9935");n.d(t,"g",function(){return ce}),n.d(t,"f",function(){return le}),n.d(t,"e",function(){return de}),n.d(t,"b",function(){return ge}),n.d(t,"d",function(){return he}),n.d(t,"c",function(){return be}),n.d(t,"a",function(){return _e});var ie=Object(oe["create"])(d),ue=null;function ce(e){return se.apply(this,arguments)}function se(){return se=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(oe["create"])(b),e.next=3,we(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),se.apply(this,arguments)}function le(e){return pe.apply(this,arguments)}function pe(){return pe=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(r["a"])({},t,{okButton:"閉じる",showCancelButton:!1}),e.next=3,we(ie,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),pe.apply(this,arguments)}function de(e){return fe.apply(this,arguments)}function fe(){return fe=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(oe["create"])(Z),e.next=3,n(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),fe.apply(this,arguments)}function ge(e){return me.apply(this,arguments)}function me(){return me=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(oe["create"])(k),e.next=3,n(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),me.apply(this,arguments)}function he(){return ve.apply(this,arguments)}function ve(){return ve=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(oe["create"])(H),e.next=3,t({});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),ve.apply(this,arguments)}function be(){return ye.apply(this,arguments)}function ye(){return ye=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(oe["create"])(N),e.next=3,t({});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),ye.apply(this,arguments)}function _e(e){return xe.apply(this,arguments)}function xe(){return xe=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(oe["create"])(ae),e.next=3,n(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),xe.apply(this,arguments)}Object(oe["create"])(W);function we(e,t){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!ue){e.next=3;break}return e.next=3,ue;case 3:return ue=t(n),e.next=6,ue;case 6:return r=e.sent,ue=null,e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),Pe.apply(this,arguments)}},"0f26":function(e,t,n){"use strict";var r=n("bb09"),a=n.n(r);a.a},1:function(e,t,n){e.exports=n("cd49")},"154a":function(e,t,n){"use strict";var r=n("9cfc"),a=n.n(r);a.a},1977:function(e,t,n){"use strict";var r=n("ca98"),a=n.n(r);a.a},"1ece":function(e,t,n){"use strict";var r=n("8fd6"),a=n.n(r);a.a},2:function(e,t){},"21d8":function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return R});n("673e");var r=n("0a0d"),a=n.n(r),o=n("aede"),i=(n("386d"),n("96cf"),n("3b8d")),u=n("72bf"),c=n.n(u),s=n("8ded"),l=n.n(s),p=n("8d35"),d=n("b994"),f=n("4a9d"),g=n.n(f),m=n("ff07"),h=n("9530"),v=n.n(h);function b(){var e=Object(o["a"])(["{ user { name, migrated } }"]);return b=function(){return e},e}var y="session";function _(){return x.apply(this,arguments)}function x(){return x=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.a.get(y),!location.search){e.next=6;break}if(n=c.a.parse(location.search),!n.oauth_token||!n.oauth_verifier){e.next=6;break}return e.next=6,w(n.oauth_token,n.oauth_verifier);case 6:if(!t){e.next=10;break}return e.next=9,k(t);case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,this)})),x.apply(this,arguments)}function w(e,t){return P.apply(this,arguments)}function P(){return P=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("twitter authenticate"),r=l.a.get("twitter-token-secret"),e.next=5,fetch("".concat("https://jbgtnhy1bi.execute-api.ap-northeast-1.amazonaws.com/prod/oauth/accessToken","?").concat(c.a.stringify({oauth_token:t,oauth_verifier:n,oauth_token_secret:r})));case 5:return a=e.sent,e.next=8,a.json();case 8:o=e.sent,i=o.token,u={gotoMigrate:!0},k(i,u),l.a.set(y,i),u.gotoMigrate?location.href="/migrate":location.href="/mypage",e.next=21;break;case 16:return e.prev=16,e.t0=e["catch"](0),console.log({err:e.t0}),e.next=21,alert("内部エラーが発生しました");case 21:case"end":return e.stop()}},e,this,[[0,16]])})),P.apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,u,c,s,l,f,h=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{gotoMigrate:!0},r=p["a"].VUE_APP_ID_POOL_ID,g.a.config.region="ap-northeast-1",g.a.config.credentials=new g.a.CognitoIdentityCredentials({IdentityPoolId:r,Logins:{"api.twitter.com":t}}),e.next=6,g.a.config.credentials.getPromise();case 6:return e.next=8,d["Auth"].currentCredentials();case 8:if(E=!0,window.localStorage.getItem("TESTING")){e.next=37;break}return e.next=12,Object(m["a"])(v()(b()));case 12:if(o=e.sent,u=o.user,!u.migrated){e.next=21;break}return alert("あなたは既にメールアドレスを登録済みです。\n\nメールアドレスとパスワードでログインしてください。"),e.next=18,d["Auth"].signOut();case 18:return window.localStorage.clear(),location.href="/auth/signin",e.abrupt("return",!1);case 21:return c="{\n        novels {\n            items { novelId }\n        }\n        }",e.next=24,Object(m["a"])(c);case 24:if(s=e.sent,l=s.novels,l.items.length){e.next=37;break}if(confirm("Twitterログインは新規ユーザーは利用できません。\nメールアドレスで会員登録、ログインしてください。\n\nログアウトしますか？")){e.next=32;break}return n.gotoMigrate=!1,e.abrupt("return",!0);case 32:return e.next=34,d["Auth"].signOut();case 34:window.localStorage.clear(),location.href="/auth/signin";case 36:return e.abrupt("return",!1);case 37:return f=a()(),setInterval(Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a()(),!(f+3e6<t)){e.next=6;break}return f=t,console.log("fresh! "+(g.a.config.credentials&&g.a.config.credentials.data.Credentials.Expiration)),e.next=6,g.a.config.credentials.refreshPromise();case 6:case"end":return e.stop()}},e,this)})),1e3),e.abrupt("return",!0);case 40:case"end":return e.stop()}},e,this)})),O.apply(this,arguments)}var E=!1;function I(){return E}function R(){return T.apply(this,arguments)}function T(){return T=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!E){e.next=8;break}return e.next=4,d["Auth"].currentCredentials();case 4:return t=e.sent,e.abrupt("return",t.data.IdentityId);case 8:return e.next=10,d["Auth"].currentUserPoolUser();case 10:return n=e.sent,e.abrupt("return",n.signInUserSession.idToken.payload.sub);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e["catch"](0),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[0,14]])})),T.apply(this,arguments)}},2458:function(e,t,n){"use strict";var r=n("f0a4"),a=n.n(r);a.a},"2eae":function(e,t,n){e.exports=n.p+"img/help-img.2b7f9582.png"},3:function(e,t){},3395:function(e,t,n){},"3c51":function(e,t,n){"use strict";var r=n("9a90"),a=n.n(r);a.a},"45e4":function(e,t,n){"use strict";var r=n("3395"),a=n.n(r);a.a},"4d9b":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5ce8":function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"a",function(){return s}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return y});n("96cf"),n("f559");var r=n("3b8d"),a=n("b994"),o=n("7c39"),i=n.n(o);function u(){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:null,e.next=3,a["Storage"].list("shared/images/characters/",{level:"public"});case 3:return t=e.sent,e.abrupt("return",{nextMarker:null,contents:t});case 5:case"end":return e.stop()}},e,this)})),c.apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["Storage"].get(t,{level:"public"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function p(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["Storage"].vault.put(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=new i.a,e.next=3,a["Storage"].vault.get(t,{download:!0});case 3:return r=e.sent,e.next=6,n.loadAsync(r.Body);case 6:return e.next=8,n.file("content.txt").async("string");case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)})),g.apply(this,arguments)}function m(e,t){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new i.a,r.file("content.txt",n),e.next=4,r.generateAsync({type:"blob"});case 4:return o=e.sent,e.next=7,a["Storage"].vault.put(t,o);case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)})),h.apply(this,arguments)}function v(e,t){return"novels/".concat(e,"/manuscripts/").concat(t,".zip")}function b(e,t){var n=t.characterId,r=t.image;return r?r.startsWith("file:")?"file:novels/".concat(e,"/characters/").concat(n,".jpg"):r:null}function y(e,t){var n=t.worldViewId,r=t.image;return r?r.startsWith("file:")?"file:novels/".concat(e,"/worldviews/").concat(n,".jpg"):r:null}},"5d17":function(e,t,n){},"5e27":function(e,t,n){},"8c26":function(e,t,n){"use strict";var r=n("9ab2"),a=n.n(r);a.a},"8d35":function(e,t,n){"use strict";var r=n("5176"),a=n.n(r),o=Object({NODE_ENV:"production",VUE_APP_TITLE:"Nola 小説家専用エディタツール",VUE_APP_API_ENDPOINT:"https://uvp6iu9u21.execute-api.ap-northeast-1.amazonaws.com/prod",VUE_APP_GA_ID:"UA-119902392-3",VUE_APP_DATA_BUCKET:"prod-nola-v2-data",VUE_APP_TWITTER_AUTH_API_ENDPOINT:"https://jbgtnhy1bi.execute-api.ap-northeast-1.amazonaws.com/prod/oauth/authenticate",VUE_APP_TWITTER_GETTOKEN_API_ENDPOINT:"https://jbgtnhy1bi.execute-api.ap-northeast-1.amazonaws.com/prod/oauth/accessToken",VUE_APP_ID_POOL_ID:"ap-northeast-1:3a8f72e6-4802-4279-afab-17c4b6dd076c",VUE_APP_USER_POOL_ID:"ap-northeast-1_JLdGywNqF",VUE_APP_USER_POOL_CLIENT:"605q0a9kf81ej3od1sjuf59e3v",VUE_APP_MICROCMS_API_ENDPOINT:"https://nola-indent.microcms.io/api/v1",VUE_APP_MICROCMS_API_KEY:"daf75090-c16a-44ef-85f2-2b8094bf5378",VUE_APP_STRIPE_PUBLIC_KEY:"pk_live_UudZvotM8lWvjBmKBd8BjKoB00UiuG6O1f",BASE_URL:"/"});t["a"]=o,window.setEnv=function(e){a()(o,e)}},"8fd6":function(e,t,n){},"944d":function(e,t,n){},9853:function(e,t,n){"use strict";var r=n("4d9b"),a=n.n(r);a.a},"9a90":function(e,t,n){},"9ab2":function(e,t,n){},"9cfc":function(e,t,n){},"9f70":function(e,t,n){"use strict";var r=n("d685"),a=n.n(r);a.a},a6d1:function(e,t,n){},bb09:function(e,t,n){},ca98:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("673e"),n("96cf");var r=n("3b8d"),a=n("03cc"),o=n.n(a),i=n("f499"),u=n.n(i),c=(n("cadf"),n("551c"),n("097d"),n("2b0e")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{name:"template"}},[n("router-view",{attrs:{slot:"header",name:"header"},slot:"header"}),n("router-view",{attrs:{slot:"side",name:"side"},slot:"side"}),n("router-view")],1),n("global-component"),n("dialogs-wrapper",{attrs:{"transition-name":"fade"}})],1)},l=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.isOffline?n("div",{staticClass:"global-component"},[n("div",{staticClass:"text"},[e._v("オフラインです。ネットワーク接続状況を確認してください。")])]):e._e()])},d=[],f=c["default"].extend({created:function(){addEventListener("offline",this.offline),addEventListener("online",this.online)},beforeDestroy:function(){removeEventListener("offline",this.offline),removeEventListener("online",this.online)},data:function(){return{isOffline:!1}},methods:{offline:function(){this.isOffline=!0},online:function(){this.isOffline=!1}}}),g=f,m=(n("154a"),n("2877")),h=Object(m["a"])(g,p,d,!1,null,"3fbf15e4",null);h.options.__file="GlobalComponent.vue";var v=h.exports,b=c["default"].extend({components:{GlobalComponent:v}}),y=b,_=(n("5c0b"),Object(m["a"])(y,s,l,!1,null,null,null));_.options.__file="App.vue";var x=_.exports,w=(n("7f7f"),n("8c4f")),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default")],2)},k=[],O=c["default"].extend({}),E=O,I=Object(m["a"])(E,P,k,!1,null,"1b830b3b",null);I.options.__file="PlainTemplate.vue";var R=I.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("header"),n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"novel-template"},[e._t("side"),n("main",{staticClass:"main"},[n("helper"),n("transition",{attrs:{name:"fade-fast"}},[e._t("default")],2)],1)],2)])],2)},C=[],j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.contents?r("div",{staticClass:"root-helper"},[r("span",{staticClass:"text"},[e._v(e._s(e.contents.title))]),e.contents.content?r("img",{attrs:{src:n("2eae"),width:"16px",height:"16px"},on:{click:e.open}}):e._e()]):e._e()},A=[],U=n("0dcd"),N={characters:{title:"各シーンの登場人物を登録する",content:"<h3>登場人物を具体的に構想しましょう。</h3>\nこのページで、これから執筆する小説の「登場人物」を設定しましょう。\n登場人物の基本的な属性（名前/性別/身長/誕生日など）を設定することで、人物像のベースが固められます。\nより具体的に考えた登場人物の性格を記録することで、作品中で一貫性を持った人物描写がしやすくなります。\n    "},characterCreate:{title:"新しい登場人物を登録する",content:""},worldViews:{title:"各シーンの世界観を登録する",content:"<h3>小説のシーンを具体的に構想しましょう。</h3>\nこのページで、これから執筆する小説の「世界観」を設定しましょう。\n<h4>世界観を設定する</h4>\n小説の世界観（時代/法律/政治など）を設定することで、世界観のベースが固められます。\nより具体的に考えた小説で登場する様々なシーンの詳細（自然環境/生活環境など）を記録することで、作品中でブレることない描写がしやすくなります。\n    "},worldViewEdit:{title:"各シーンの世界観を編集する",content:""},theme:{title:"物語のテーマを設定する",content:"<h3>小説のテーマを明確にしましょう。</h3>\nこのページで、これから執筆する小説の「テーマ」や「物語の終着点」、「届けたいターゲット」を設定しましょう。\n小説のテーマや物語の最終地点を決めることで、芯のブレない執筆がしやすくなります。\nまた、どんな人に届けたいのか本の向こう側の人を意識して描くことで、読者を意識した執筆をすることができます。"},correlations:{title:"相関関係を作成する",content:""},plot:{title:"物語のプロットを作成する",content:"<h3>小説のストーリーを構想しましょう。</h3>\nこのページで、これから執筆する小説のプロットを設定しましょう。\n<h4>起承転結を設定する</h4>\nこれから描く小説の「起承転結」を設定することで、ストーリーの大まかな骨格が形成できます。\n最初はざっくり書いて、小説を執筆しながら付け加えていくのもお勧めです。\n<h4>プロットを設定する</h4>\n各章のプロットを記入しましょう。\nどのような流れでストーリーを展開するのか骨組みを記入しておくことで、軸のずれにくい執筆がしやすくなります。"},editor:{title:"ものがたりを執筆する",content:"<h3>小説を執筆します。</h3>\nこのページでは、実際に構想している小説を執筆していきます。 \n『＋新規作成する』をクリックして、原稿を書き始めましょう。\n<h4>原稿の書き方</h4>\n原稿は、「タイトル」と「本文」に分けて書いていきます。\n原稿を書いたら画面下の「保存する」をクリックして必ず保存してください。\n"},plotEdit:{title:"物語のプロットを作成する",content:""}},S=c["default"].extend({props:{id:String},methods:{open:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["e"])({title:this.text,content:this.contents.content});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{contents:function(){var e=this.$route.name;return N[e]}}}),$=S,L=(n("f534"),Object(m["a"])($,j,A,!1,null,"4f08883a",null));L.options.__file="Helper.vue";var M=L.exports,D=c["default"].extend({components:{Helper:M}}),H=D,B=(n("0651"),Object(m["a"])(H,T,C,!1,null,"a8aa331e",null));B.options.__file="NovelTemplate.vue";var V=B.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"novel-template"},[e._t("header"),e._t("default")],2)},Q=[],G=c["default"].extend({data:function(){return{expandSideMenu:!0}},methods:{toggleExpand:function(){this.expandSideMenu=!this.expandSideMenu}}}),W=G,K=(n("9853"),Object(m["a"])(W,q,Q,!1,null,"621adf46",null));K.options.__file="HeaderTemplate.vue";var z=K.exports,F=n("b994"),J=n("d225"),Y=n("b0b4");function Z(e){console.log({modified:e}),e}var X="保存されていない変更があります。<br />変更を破棄して移動しますか？",ee=function(){function e(){var t=this;Object(J["a"])(this,e),this.beforeunload=function(e){if(t._modified){var n=X;return e.returnValue=n,n}},window.addEventListener("beforeunload",this.beforeunload),this._modified=!1}return Object(Y["a"])(e,[{key:"install",value:function(e,t){var n=this;e.directive("my-directive",{bind:function(e,t,n,r){}}),e.mixin({beforeRouteLeave:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,r,a){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n._modified){e.next=8;break}return e.next=3,Object(U["g"])({content:X,okButton:"破棄して移動する",cancelButton:"留まる"});case 3:if(o=e.sent,o){e.next=6;break}return e.abrupt("return");case 6:Z(!1),n._modified=!1;case 8:a();case 9:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}(),beforeEnter:function(e,t,n){}}),e.prototype.setModified=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n._modified=e},e.prototype.isModified=function(){return n._modified}}}]),e}(),te=n("0a0d"),ne=n.n(te),re=0,ae=!1;function oe(){return ie.apply(this,arguments)}function ie(){return ie=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(ne()()<re)){e.next=2;break}return e.abrupt("return",ae);case 2:return e.next=4,F["API"].get("Rest","/isundermaintenance",{});case 4:return t=e.sent,n=t.isUnderMaintenance,ae=n,re=ne()()+5e3,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),ie.apply(this,arguments)}var ue,ce=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"78a7"))},se=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"4b86"))},le=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"e8de"))},pe=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"afe9"))},de=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"56a1"))},fe=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"41f9"))},ge=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"d2b5"))},me=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-mypage~group-static"),n.e("group-auth~group-mypage"),n.e("group-mypage")]).then(n.bind(null,"641f"))},he=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"9834"))},ve=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"0050"))},be=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"b9e6"))},ye=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"eeeb"))},_e=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"c06c"))},xe=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"f9d4"))},we=function(){return Promise.all([n.e("group-auth~group-mypage"),n.e("group-auth")]).then(n.bind(null,"e355"))},Pe=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"521a"))},ke=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"a150"))},Oe=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"1c35"))},Ee=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"28cb"))},Ie=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"16ec"))},Re=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"f970"))},Te=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"f2a7"))},Ce=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"4e11"))},je=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"67d6"))},Ae=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"7ed5"))},Ue=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"8280"))},Ne=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"d4d7"))},Se=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"9c55"))},$e=function(){return Promise.all([n.e("group-mypage~group-novel"),n.e("group-novel")]).then(n.bind(null,"f295"))},Le=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"90a3"))},Me=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"123b"))},De=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"14c8"))},He=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"9b62"))},Be=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"6bb8"))},Ve=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"8bca"))},qe=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"046b"))},Qe=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"c577"))},Ge=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"ffa0"))},We=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"b4f7"))},Ke=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"2ded"))},ze=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"1170"))},Fe=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"8389"))},Je=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"7e65"))},Ye=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"831a"))},Ze=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"f45e"))},Xe=function(){return Promise.all([n.e("group-mypage~group-static"),n.e("group-static")]).then(n.bind(null,"93d2"))};function et(e){var t=e.path,n=e.name,r=e.component,a=e.template,o=e.title,i=e.authType,u=void 0===i?ue.REQUIRE_AUTH:i;return{path:t,name:n,components:{template:a||V,default:r,header:de,side:fe},props:{template:!0,default:!0,side:!0},meta:{authType:u,title:o}}}function tt(e){var t=e.path,n=e.name,r=e.component,a=e.title,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{path:t,name:n,components:{template:R,default:r},props:{default:!0},meta:{authType:o,title:a}}}c["default"].use(w["a"]),function(e){e["REQUIRE_AUTH"]="require_auth",e["REQUIRE_NOT_AUTH"]="require_not_auth"}(ue||(ue={}));var nt=new w["a"]({mode:"history",base:"",routes:[{path:"/index.html",redirect:"/home"},tt({path:"/",name:"top",component:ge},ue.REQUIRE_NOT_AUTH),tt({path:"/lp",name:"top-lp",component:ge},ue.REQUIRE_NOT_AUTH),et({template:z,path:"/home",name:"home",component:ce}),et({template:z,path:"/news",name:"news",component:se}),et({title:"マイページ",template:z,path:"/mypage",name:"myPage",component:le}),et({title:"パスワード変更",template:z,path:"/changepassword",name:"changePassword",component:me}),et({title:"新規小説作成",template:z,path:"/novels/create",name:"novelCreate",component:pe}),et({title:"小説情報",name:"detail",path:"/:novelId/detail",component:Pe}),et({title:"小説情報編集",name:"detailEdit",path:"/:novelId/detail/edit",component:ke}),et({title:"テーマ",name:"theme",path:"/:novelId/theme",component:Se}),et({title:"登場人物新規作成",name:"characterCreate",path:"/:novelId/characters/create",component:Ee}),et({title:"登場人物編集",name:"characterEdit",path:"/:novelId/characters/:characterId?/edit",component:Ie}),et({title:"登場人物",name:"characters",path:"/:novelId/characters/:characterId?",component:Oe}),et({title:"世界観新規作成",name:"worldViewCreate",path:"/:novelId/worldviews/create",component:Te}),et({title:"世界観編集",name:"worldViewEdit",path:"/:novelId/worldviews/:worldViewId/edit",component:Ce}),et({title:"世界観",name:"worldViews",path:"/:novelId/worldviews/:worldViewId?",component:Re}),et({title:"相関関係",name:"correlations",path:"/:novelId/correlations/:correlationGroupId?/:correlationId?",component:je}),et({title:"執筆",name:"editor",path:"/:novelId/editor/:manuscriptKey?",component:$e}),et({title:"プロット",name:"plot",path:"/:novelId/plot",component:Ae}),et({title:"プロット編集",name:"plotEdit",path:"/:novelId/plot/edit",component:Ue}),et({title:"プロット編集",name:"plotChange",path:"/:novelId/plot/change",component:Ne}),tt({path:"/migrate",name:"migrate",component:Ye},ue.REQUIRE_AUTH),tt({path:"/auth/signup",name:"signUp",component:he},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/signin",name:"signIn",component:be},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/resendconfirmcode",name:"resendConfirmCode",component:ve},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/resetpassword",name:"resetPassword",component:ye},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/resetpasswordsubmit/:username",name:"resetPasswordSubmit",component:_e},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/newpassword",name:"newPassword",component:xe},ue.REQUIRE_NOT_AUTH),tt({path:"/auth/confirmemail/:id",name:"confirmEmail",component:we}),tt({path:"/help",name:"help",component:Le}),tt({path:"/privacy",name:"privacy",component:De}),tt({path:"/terms",name:"terms",component:Me}),tt({path:"/membership",name:"membership",component:He}),tt({path:"/howtouse",name:"howToUse",component:Be}),tt({path:"/tutorial",name:"tutorial",component:qe}),tt({path:"/maintenance",name:"maintenance",component:Xe}),tt({path:"/announce",name:"announce",component:Je}),et({template:z,path:"/subscription/register/:plan",name:"registerSubscription",component:Ge}),et({template:z,path:"/subscription/modify",name:"subscriptionModify",component:We}),et({template:z,path:"/subscription/modify/payment",name:"modifyPayment",component:Ge}),et({template:z,path:"/subscription",name:"subscriptionAnnounce",component:Qe}),et({template:z,path:"/subscription/completed",name:"subscriptionCompleted",component:Ke}),et({template:z,path:"/unsubscription",name:"unsubscriptionAnnounce",component:ze}),et({template:z,path:"/confirmInAppPurchase",name:"confirmInAppPurchase",component:Fe}),et({template:z,path:"/unsubscription/completed",name:"unsubscriptionCompleted",component:Ke}),et({template:z,path:"/contact",name:"contact",component:Ve,authType:null}),tt({path:"*",name:"404",component:Ze})],scrollBehavior:function(e,t,n){if(e.hash)return{selector:e.hash,offset:{x:0,y:63}}}});function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.parent!==window.top&&window.parent.postMessage({nola:!0,type:e,message:t},"*")}c["default"].use(new ee),nt.beforeEach(function(e,t,n){var r=e.meta.title;r=r?"Nola ".concat(r):"Nola 小説家専用エディタツール",document.title=r,n()}),nt.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:if(a=e.sent,!a||"maintenance"===t.name){e.next=8;break}return r({name:"maintenance"}),e.abrupt("return");case 8:if(a||"maintenance"!==t.name){e.next=11;break}return r({name:"top"}),e.abrupt("return");case 11:return rt("history",t.fullPath),e.next=14,F["Auth"].currentCredentials().catch(function(e){if(console.log(u()(e)),"UserNotFoundException"!==e.code&&"NotAuthorizedException"!==e.code&&"No current user"!==e)throw console.log({err:e}),e});case 14:if(o=e.sent,i=o&&!o.code,i)try{s=o.signInUserSession?o.signInUserSession.idToken.payload.sub:o.data.IdentityId,c["default"].$ga.set("userId",s)}catch(n){console.error(n)}if(!t.matched.some(function(e){return e.meta.authType===ue.REQUIRE_AUTH})){e.next=23;break}if(i){e.next=21;break}return r({name:"top",query:{redirect:t.fullPath}}),e.abrupt("return");case 21:e.next=27;break;case 23:if(!t.matched.some(function(e){return e.meta.authType===ue.REQUIRE_NOT_AUTH})){e.next=27;break}if(!i){e.next=27;break}return r({name:"home"}),e.abrupt("return");case 27:r();case 28:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}());var at=nt,ot=n("8d35");F["Auth"].configure({region:"ap-northeast-1",identityPoolId:ot["a"].VUE_APP_ID_POOL_ID,userPoolId:ot["a"].VUE_APP_USER_POOL_ID,userPoolWebClientId:ot["a"].VUE_APP_USER_POOL_CLIENT,authenticationFlowType:"USER_PASSWORD_AUTH"});var it=ot["a"].VUE_APP_API_ENDPOINT;F["API"].configure({graphql_endpoint:it+"/graphql",graphql_endpoint_iam_region:"ap-northeast-1",endpoints:[{name:"GW",endpoint:it+"/graphql",region:"ap-northeast-1"},{name:"Rest",endpoint:it,region:"ap-northeast-1"}]}),F["Storage"].configure({bucket:"prod-nola-v2-data",region:"ap-northeast-1"});n("f5df"),n("944d");var ut=n("21d8"),ct=n("0086"),st=n.n(ct),lt=n("9935"),pt=n("56dd"),dt=n("0284"),ft=n.n(dt),gt=n("3d29"),mt=n.n(gt);n("9992");function ht(){return vt.apply(this,arguments)}function vt(){return vt=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ut["a"])();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,F["Auth"].currentUserPoolUser();case 7:if(t=e.sent,!t.attributes.profile){e.next=20;break}if(n=JSON.parse(t.attributes.profile),n.identityId){e.next=14;break}return n.identityId=t.signInUserSession.idToken.payload.sub,e.next=14,F["Auth"].updateUserAttributes(t,{profile:u()(n)});case 14:if("ready"!==n.migrateStatus){e.next=20;break}return e.next=17,F["API"].post("Rest","/migrateUserData",{body:{currentUserPoolUserId:t.signInUserSession.idToken.payload.sub,migrateFromIdentityId:n.migrateIdentityId}});case 17:return n.migrateStatus="done",e.next=20,F["Auth"].updateUserAttributes(t,{profile:u()(n)});case 20:e.next=29;break;case 22:if(e.prev=22,e.t0=e["catch"](4),"No current user"===e.t0){e.next=29;break}return r=u()(e.t0,o()(e.t0)),console.error(r),e.next=29,F["API"].post("Rest","/log",{body:"Migrate error:"+r});case 29:new c["default"]({router:at,render:function(e){return e(x)}}).$mount("#app");case 30:case"end":return e.stop()}},e,this,[[4,22]])})),vt.apply(this,arguments)}c["default"].config.productionTip=!1,c["default"].config.errorHandler=function(e,t,n){F["API"].post("Rest","/log",{body:u()(e,o()(e))+" "+u()(n)}),alert("Error: "+u()({error:e,info:n})),console.log("Captured in Vue.config.errorHandler: ".concat(n),e)},window.addEventListener("error",function(e){console.log("Captured in error EventListener",e.error)}),window.addEventListener("unhandledrejection",function(e){console.log("Captured in unhandledrejection EventListener",e)}),c["default"].use(st.a),c["default"].use(lt),c["default"].use(pt["a"]),c["default"].use(ft.a,{id:"UA-119902392-3",router:at,ecommerce:{enabled:!0}}),c["default"].use(mt.a),ht()},d685:function(e,t,n){},ef07:function(e,t,n){"use strict";var r=n("5d17"),a=n.n(r);a.a},f0a4:function(e,t,n){},f534:function(e,t,n){"use strict";var r=n("ffe1"),a=n.n(r);a.a},ff07:function(e,t,n){"use strict";n("96cf");var r=n("3b8d"),a=n("aede"),o=n("9530"),i=n.n(o),u=n("b994"),c=n("0dcd");n("cadf"),n("551c"),n("097d");function s(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p({level:"error",message:t});case 2:case"end":return e.stop()}},e,this)})),l.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={body:t},e.next=3,u["API"].post("GW","log",n);case 3:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}function f(){var e=Object(a["a"])(["query ($id: ID!) {\n    novel(id: $id) {\n        title\n        description      \n    }\n}"]);return f=function(){return e},e}n.d(t,"a",function(){return g});i()(f());function g(e,t){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["API"].graphql(Object(u["graphqlOperation"])(t,n));case 3:if(r=e.sent,a=r.data,o=r.errors,!o){e.next=9;break}return e.next=9,Object(c["f"])({title:"エラー",content:"エラーが発生しました。 "+o});case 9:return e.abrupt("return",a);case 12:return e.prev=12,e.t0=e["catch"](0),console.error(e.t0),i="エラーが発生しました。",e.t0.errors&&(l=e.t0.errors[0]||{},"Network Error"===l.message?i="ネットワークエラーです。<br />しばらく経ってから再度送信してください。<br />ご迷惑をおかけして申し訳ありません。":i+="<br />"+l.message),e.next=19,Object(c["f"])({title:"エラー",content:i});case 19:throw s({error:e.t0}),e.t0;case 21:case"end":return e.stop()}},e,this,[[0,12]])})),m.apply(this,arguments)}},ffe1:function(e,t,n){}});
//# sourceMappingURL=app.55fea6af.js.map